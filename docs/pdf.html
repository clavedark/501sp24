<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>PLSC 501 - Spring 2024 - PLSC 501 Syllabus, spring 2024</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-LTETWM0ZFY"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-LTETWM0ZFY', { 'anonymize_ip': true});
</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">PLSC 501 - Spring 2024</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="dropdown-header">
 <span class="menu-text">syllabus.qmd</span></li>
  <li class="nav-item">
    <a class="nav-link" href="./about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./slides.html" rel="" target="">
 <span class="menu-text">Slides</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#seminar-description" id="toc-seminar-description" class="nav-link active" data-scroll-target="#seminar-description">Seminar Description</a></li>
  <li><a href="#course-purpose" id="toc-course-purpose" class="nav-link" data-scroll-target="#course-purpose">Course Purpose</a></li>
  <li><a href="#learning-objectives" id="toc-learning-objectives" class="nav-link" data-scroll-target="#learning-objectives">Learning Objectives</a></li>
  <li><a href="#reading" id="toc-reading" class="nav-link" data-scroll-target="#reading">Reading</a></li>
  <li><a href="#this-is-the-most-important-section-of-the-syllabus" id="toc-this-is-the-most-important-section-of-the-syllabus" class="nav-link" data-scroll-target="#this-is-the-most-important-section-of-the-syllabus">This is the most important section of the syllabus</a></li>
  <li><a href="#how-to-read" id="toc-how-to-read" class="nav-link" data-scroll-target="#how-to-read">How to Read</a></li>
  <li><a href="#course-requirements-and-grades" id="toc-course-requirements-and-grades" class="nav-link" data-scroll-target="#course-requirements-and-grades">Course Requirements and Grades</a></li>
  <li><a href="#course-schedule" id="toc-course-schedule" class="nav-link" data-scroll-target="#course-schedule">Course Schedule</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">PLSC 501 Syllabus, spring 2024</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<div class="grid course-details course-details-smaller">
<div class="g-col-6">
<section id="instructor" class="level3">
<h3 class="anchored" data-anchor-id="instructor">Instructor</h3>
<ul>
<li><i class="fa-solid fa-user" aria-label="user"></i> &nbsp; <a href="https://clavedark.github.io">Prof.&nbsp;Dave Clark</a></li>
<li><i class="fa-solid fa-university" aria-label="university"></i> &nbsp; LNG 57</li>
<li><i class="fa-solid fa-envelope" aria-label="envelope"></i> &nbsp; <a href="mailto:dclark@binghamton.edu">dclark@binghamton.edu</a></li>
<li><i class="fa-brands fa-github" aria-label="github"></i> &nbsp; <a href="https://clavedark.github.io">clavedark</a></li>
</ul>
</section>
<section id="ta" class="level3">
<h3 class="anchored" data-anchor-id="ta">TA</h3>
<ul>
<li><i class="fa-solid fa-user" aria-label="user"></i> &nbsp; <a href="https://www.linkedin.com/in/kathleen-bannon/">Kathleen Bannon</a></li>
<li><i class="fa-solid fa-envelope" aria-label="envelope"></i> &nbsp; <a href="mailto:kbannon1@binghamton.edu">kbannon1@binghamton.edu</a></li>
</ul>
</section>
</div>
<div class="g-col-6">
<section id="course-details" class="level3">
<h3 class="anchored" data-anchor-id="course-details">Course details</h3>
<ul>
<li><i class="fa-solid fa-calendar-alt" aria-label="calendar-alt"></i> &nbsp; Spring 2024</li>
<li><i class="fa-solid fa-calendar" aria-label="calendar"></i> &nbsp; Wednesday</li>
<li><i class="fa-solid fa-clock" aria-label="clock"></i> &nbsp; 9:40-12:40</li>
<li><i class="fa-solid fa-location-dot" aria-label="location-dot"></i> &nbsp; LNG 332 Bing SSEL</li>
</ul>
</section>
<section id="lab" class="level3">
<h3 class="anchored" data-anchor-id="lab">Lab</h3>
<ul>
<li><i class="fa-solid fa-calendar" aria-label="calendar"></i> &nbsp; Thursday</li>
<li><i class="fa-solid fa-clock" aria-label="clock"></i> &nbsp; 1:15-2:15</li>
<li><i class="fa-solid fa-location-dot" aria-label="location-dot"></i> &nbsp; CW 309</li>
</ul>
</section>
</div>
</div>
<section id="seminar-description" class="level2">
<h2 class="anchored" data-anchor-id="seminar-description">Seminar Description</h2>
<p>This 4 credit hour seminar is about the principles of linear regression models, focusing on the ordinary least squares approach to regression. The course is data science oriented, emphasizing data managment, wrangling, coding in <strong>R</strong>, and data visualization.</p>
<!-- The OLS model is powerful and robust, but it depends on a set of assumptions our data (and sometimes our theories) simply do not meet.  So our main goal will be to understand the model and its assumptions and to reconcile them with theory and data. Even though you will probably use methods other than OLS in your graduate and professional careers, this model provides a basis for understanding other statistical techniques you'll encounter.  -->
<p>The class requires some background (provided in preview materials) in probability theory, matrix algebra, and using <strong>R</strong>. A major goal of the class is to provide the intuition behind how and why we do empirical tests of theories of politics. Anyone can estimate a statistical model, but not everyone can estimate and interpret and informed, thoughful model. Understanding regression and linking regression with theories of political behavior are key steps toward saying insightful things about politics.</p>
<p>An important thing to realize is that it takes time and repetition to really understand this stuff intuitively. Exposure to regression in general (whether OLS, MLE, Bayes, etc.) by reading, hearing, and doing over and over will make it stick. So don’t get down or freaked out if you feel like you don’t get it. Instead, ask questions - of me, of the TA, in class, in workshop, in office hours. Asking is essential.</p>
<p>The class meets one time per week for three hours. The required workshop meets one time per week for 1 hour. My office hours are designed to be homework help hours where I’ll work in the grad lab with any of you who are working on the exercises. The most productive pathway for this class is for your to get in the habit of working together, and those office hours are a good time for this.</p>
</section>
<section id="course-purpose" class="level2">
<h2 class="anchored" data-anchor-id="course-purpose">Course Purpose</h2>
<p>This seminar is a requirement in the Political Science Ph.D.&nbsp;curriculum. It is the second (of three) required quantitative methods courses aimed at giving students a wide set of empirical tools to put to use in testing hypotheses about politics. This seminar focuses on the method of Ordinary Least Squares, and the linear model, emphasizing data science skills.</p>
</section>
<section id="learning-objectives" class="level2">
<h2 class="anchored" data-anchor-id="learning-objectives">Learning Objectives</h2>
<p>At the end of the semester, students will be able to describe the linear model, its assumptions, and interpretation. Students will be able to manage data, estimate linear models, diagnose and correct models, and generate quantities of interest. Students will be able to plot and analyze their estimates and quantities of interest. Students will be able to generate their own research designs, and test hypotheses using the linear model.</p>
</section>
<section id="reading" class="level2">
<h2 class="anchored" data-anchor-id="reading">Reading</h2>
<p>The book for the class is:</p>
<ul>
<li>Wooldridge, J.M. 2013. <em>Introductory Econometrics</em>. 5th edition, South-Western/Cengage. ISBN 978-1-111-53104-1.</li>
</ul>
<p>I’m assigning an older edition of Wooldridge (the 5th) so cheaper copies are easier to come by. If you choose an edition other than that, you’ll need to reconcile chapters, etc. Also, be warned that the cheaper international edition (paperback) is alleged to differ in substantial ways.</p>
</section>
<section id="this-is-the-most-important-section-of-the-syllabus" class="level2">
<h2 class="anchored" data-anchor-id="this-is-the-most-important-section-of-the-syllabus">This is the most important section of the syllabus</h2>
<p>It will rarely be the case that we discuss the readings in seminar. Their purposes are two-fold. First, the technical readings (Wooldridge) are to frame the derivations of the models and techniques. These are important because to understand how to interpret a model, you need a technical understanding of its origins. This is not to say you need to be able to derive these yourselves, or to perform complex mathematical computations. It is to say that if you carefully read about the models themselves, you will certainly find their interpretations easier. The mantra for this course is this - interpretation is everything. Without some understanding of how these models arise, you will find interpretation hard.</p>
<p>Second, the applied readings (i.e.&nbsp;articles) provide just that - application in a political, economic, or social context, and application in terms of interpretation of results. Some applications are nicely done, some less so. Not only are these useful examples of what to do and of what not to do, they will provide really useful models for your own efforts to apply these statistical models. Interpretation is everything.</p>
<p>So reading is up to you, and is crucial. As much as I hate to say this, if I get the sense at any point during the term you are not reading, I will absolutely begin weekly reading quizzes; or perhaps require weekly papers on the readings. Making them up will suck. Taking them will suck. Grading them will suck. There really isn’t much reading, and there’s just no excuse not to do it.</p>
</section>
<section id="how-to-read" class="level2">
<h2 class="anchored" data-anchor-id="how-to-read">How to Read</h2>
<p>Reading academic stuff is a bit different from most other reading. Especially since you’re reading large amounts in graduate school (and the rest of your academic lives), it’s important to think about what you’re trying to accomplish. With journal articles, the goal has to be to understand the novel claim the paper makes, to understand why that novel claim is interesting or novel (at least according to the author), to understand how the author assesses the evidence, and to understand what that evidence tells us. Most importantly, you should have two answers to each of these - what the author says, and what you think. The author may tell you the argument is important for some reason, and you might disagree - you might think it’s unimportant, or important for a different reason, or wrong, or whatever.</p>
<p>Reading technical stuff is yet another category, but equally important. The best way to read math models is to read them aloud (yes, out loud) for three reasons. First, it forces you to slow down as you read it - you talk slower than your eyes move. Second, it forces you to deal with every element of the model - in silence, your mind will just skim right over it to the next set of English words. Third, it engages two senses reading silently does not - vocalization and hearing.</p>
<p>Reading out loud is not going to make everything crystal clear - but it will open some pathways whereby math language isn’t completely foreign. Most importantly, doing so bridges the gap between the math and the English accounts that normally follow, and make those English accounts easier to make sense of.</p>
</section>
<section id="course-requirements-and-grades" class="level2">
<h2 class="anchored" data-anchor-id="course-requirements-and-grades">Course Requirements and Grades</h2>
<p>The seminar requires the following:</p>
<ul>
<li>Problem sets - 50% total</li>
<li>Replication/Extension project (including log, poster, etc.) - 50%</li>
</ul>
<p>Please note that all written assignments must be submitted as PDFs either compiled in <span class="math inline">\(\LaTeX\)</span> or in <strong>R</strong> markdown (Quarto).</p>
<p>You’ll complete a series of problem sets, mostly applied. How many will depend on how things move along during the term. Regarding the problem sets - the work you turn in for the problem sets should clearly be your own, but I urge you to work together - doing so is a great way to learn and to overcome problems.</p>
<p>A word about completeness - attempt everything. To receive a passing grade in the course, you must finish all elements of the course, so all problem sets, all exams, papers, etc. To complete an element, you must at least attempt all parts of the element - so if a problem set has 10 problems, you must attempt all 10 or the assignment is incomplete, you’ve not completed every element of the course, and you cannot pass. I realize there may be problems you have trouble with and even get wrong, but you must try - the bottom line is don’t turn in incomplete work. Ever.</p>
<p>For technical and statistics training and help, Kathleen will lead a <strong>required workshop session every week, Thursday 1:15-2:15pm.</strong></p>
<p>The paper assignment asks you to replicate some published piece of research (details on selecting this we’ll discuss in seminar), to comment critically on the theory and design as you replicate, and then to build on the paper in a substantive way, extending the research. That extension is the main part of the assignment - this is one of your first major opportunities to develop a novel contribution to the empirical literature. The replication/extension paper is due the Monday of exam week. You’ll keep a research log as you work on the paper during the semester - this is due along with the paper, and is part of your total grade. In addition, we’ll have a poster session to present your extensions at the end of the semester. Details to follow.</p>
<p>Grades will be assigned on the following scale:</p>

<div class="centered-table">


<div class="cell" data-layout-align="center">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 11%">
<col style="width: 13%">
<col style="width: 11%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Grade</th>
<th style="text-align: center;">Range</th>
<th style="text-align: left;">Grade</th>
<th style="text-align: center;">Range</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">A</td>
<td style="text-align: center;">94-100%</td>
<td style="text-align: left;">C+</td>
<td style="text-align: center;">77-79%</td>
</tr>
<tr class="even">
<td style="text-align: left;">A-</td>
<td style="text-align: center;">90–93%</td>
<td style="text-align: left;">C</td>
<td style="text-align: center;">73-76%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">B+</td>
<td style="text-align: center;">87–89%</td>
<td style="text-align: left;">C-</td>
<td style="text-align: center;">70-72%</td>
</tr>
<tr class="even">
<td style="text-align: left;">B</td>
<td style="text-align: center;">83-86%</td>
<td style="text-align: left;">D</td>
<td style="text-align: center;">60-69%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">B-</td>
<td style="text-align: center;">80-82%</td>
<td style="text-align: left;">F</td>
<td style="text-align: center;">&lt;60%</td>
</tr>
</tbody>
</table>
</div>
<div>

</div></div></section>
<section id="course-schedule" class="level2">
<h2 class="anchored" data-anchor-id="course-schedule">Course Schedule</h2>
<p>Referring to Wooldridge, 5th edition, 2013}</p>
<p>Week 1. 17 Jan <strong>Introduction, Regression Discussion </strong></p>
<ul>
<li>matrix notes, preview materials</li>
</ul>
<p>Week 2, 24 Jan – <strong>Matrix/Bivariate Regression</strong></p>
<ul>
<li>Wooldridge, chapter 2, Appendix D, Appendix E</li>
</ul>
<p>Week 3, 31 Jan – <strong>Implementing the Model</strong></p>
<ul>
<li>Wooldridge, chapter 3, Appendix E</li>
</ul>
<p>Week 4, 7 Feb – <strong>Multivariate Regression, statistical control</strong></p>
<ul>
<li>Wooldridge, chapter 3, Appendix E</li>
</ul>
<p>Week 5, 14 Feb – <strong>Inference in Regression</strong></p>
<ul>
<li>Wooldridge, chapter 4</li>
</ul>
<p>Week 6, 21 Feb – <strong>Specifying the Model</strong></p>
<ul>
<li>Wooldridge, chapters 6 and 9</li>
<li><span class="citation" data-cites="king1986lie">King (<a href="#ref-king1986lie" role="doc-biblioref">1986</a>)</span></li>
</ul>
<p>Week 7, 28 Feb – <strong>Dummy Variables &amp; Multiplicative Interactions</strong></p>
<ul>
<li>Wooldridge, chapter 7</li>
<li><span class="citation" data-cites="brambor2006understanding">Brambor, Clark, and Golder (<a href="#ref-brambor2006understanding" role="doc-biblioref">2006</a>)</span></li>
</ul>
<p>Week 8, 6 March – <strong>Spring Break</strong></p>
<p>Week 9, 13 March – <strong>Interactions (continued)</strong></p>
<ul>
<li>Wooldridge, chapter 7</li>
<li><span class="citation" data-cites="brambor2006understanding">Brambor, Clark, and Golder (<a href="#ref-brambor2006understanding" role="doc-biblioref">2006</a>)</span></li>
</ul>
<p>Week 10, 20 March – <strong>Limited Dependent Variables</strong></p>
<ul>
<li>Wooldridge, chapter 7.5, and 17.1</li>
</ul>
<p>Week 11, 27 March – <strong>Panels, Fixed &amp; Random Effects</strong> - Wooldridge, chapters 13, 14</p>
<p>Week 12, 3 April– <strong>Time Series</strong></p>
<ul>
<li>Wooldridge, chapters 10, 12</li>
</ul>
<p>Week 13, 10 April – <strong>Non-constant Variance</strong></p>
<ul>
<li>Wooldridge, chapter 8</li>
</ul>
<p>Week 14, 17 April – <strong>IV models</strong></p>
<ul>
<li>Wooldridge, chapter 15</li>
</ul>
<p>Week 15, 24 April – <strong>Passover, no classes</strong></p>
<p>Week 16, 1 May – <strong>Causal Inference</strong></p>
<ul>
<li>TBA</li>
</ul>



</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-brambor2006understanding" class="csl-entry" role="listitem">
Brambor, T., W. R. Clark, and M. Golder. 2006. <span>“Understanding Interaction Models: Improving Empirical Analyses.”</span> <em>Political Analysis</em> 14 (1): 63–82.
</div>
<div id="ref-king1986lie" class="csl-entry" role="listitem">
King, Gary. 1986. <span>“How Not to Lie with Statistics: Avoiding Common Mistakes in Quantitative Political Science.”</span> <em>American Journal of Political Science</em> 30 (3): 666–87.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>